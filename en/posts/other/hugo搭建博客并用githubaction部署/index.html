<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Hugo搭建博客并用GitHubAction部署 | Reid's Blog</title>
<meta name=keywords content="Hugo,Github Pages,Github Action"><meta name=description content="Hugo搭建博客并用GitHubAction部署"><meta name=author content="Reid"><link rel=canonical href=https://reid00.github.io/en/posts/other/hugo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B9%B6%E7%94%A8githubaction%E9%83%A8%E7%BD%B2/><link crossorigin=anonymous href=/assets/css/stylesheet.d7fb4cbf980fe688a21621b06a795933c4e6bb2d4070ec940667af1715d84af2.css integrity="sha256-1/tMv5gP5oiiFiGwanlZM8Tmuy1AcOyUBmevFxXYSvI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://reid00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://reid00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://reid00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://reid00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://reid00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://reid00.github.io/en/posts/other/hugo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B9%B6%E7%94%A8githubaction%E9%83%A8%E7%BD%B2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><head><meta name=referrer content="no-referrer"></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-QRR6GRNQGK"></script><script>var doNotTrack=!1,dnt;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QRR6GRNQGK")}</script><meta property="og:title" content="Hugo搭建博客并用GitHubAction部署"><meta property="og:description" content="Hugo搭建博客并用GitHubAction部署"><meta property="og:type" content="article"><meta property="og:url" content="https://reid00.github.io/en/posts/other/hugo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B9%B6%E7%94%A8githubaction%E9%83%A8%E7%BD%B2/"><meta property="og:image" content="https://raw.githubusercontent.com/gohugoio/gohugoioTheme/master/static/images/hugo-logo-wide.svg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-16T19:35:03+08:00"><meta property="article:modified_time" content="2023-03-16T19:35:03+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://raw.githubusercontent.com/gohugoio/gohugoioTheme/master/static/images/hugo-logo-wide.svg"><meta name=twitter:title content="Hugo搭建博客并用GitHubAction部署"><meta name=twitter:description content="Hugo搭建博客并用GitHubAction部署"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://reid00.github.io/en/posts/"},{"@type":"ListItem","position":2,"name":"其他日常工具相关的记录","item":"https://reid00.github.io/en/posts/other/"},{"@type":"ListItem","position":3,"name":"Hugo搭建博客并用GitHubAction部署","item":"https://reid00.github.io/en/posts/other/hugo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B9%B6%E7%94%A8githubaction%E9%83%A8%E7%BD%B2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Hugo搭建博客并用GitHubAction部署","name":"Hugo搭建博客并用GitHubAction部署","description":"Hugo搭建博客并用GitHubAction部署","keywords":["Hugo","Github Pages","Github Action"],"articleBody":"介绍 这是我博客 Blog 的地址 和 Github Repositroy。\n本博客是用Hugo 来生成静态网站。 Hugo GitHub\n并通过 GitHub Action 来自动化部署到 GitHub Pages。\n搭建步骤 创建代码仓库 首先按照文档创建 GitHub Pages 站点。该仓库可见性必须是 Public。\n另外创建一个仓库用来存放 Hugo 的源文件，名称随意，这里假设仓库名叫 .github.io.source。建议将仓库可见性设置成 Private 以保护好你的源代码。\n创建完毕后你的账户下将存在以下两个代码仓库：\nhttps://github.com//.github.io (公开的)\nhttps://github.com//.github.io.source(私有的)\n生成Hugo 网站 安装Hugo For Windows\n到Github Release 下载最新版本，用hugo version 或者extended version (部分主题需要extended version 才能使用)\n安装步骤参考官方提供\n在C盘新建Hugo/sites 目录用于 生成hugo 项目\n在C盘新建Hugo/bin 目录，用来存放上面解压后的hugo 二进制文件\n添加C:\\Hugo\\bin 到系统环境变量中\n添加完成后，在cmd 或者其他console 中输入hugo version检查 环境变量是否添加成功。\n出现下面的表示成功。注意：环境变量添加成功后，记得重启console\nFor mac/linux\n可以只用用命令下载，此处不多讲了。\nHugo 生成网站 在/c/Hugo/sites 目录下使用命令hugo new site siteName生成网站\n1 hugo new site hello-hugo 执行成功后，Hugo 会给出温馨的提示：\nJust a few more steps and you’re ready to go:\nDownload a theme into the same-named folder. Choose a theme from https://themes.gohugo.io/ or create your own with the “hugo new theme ” command. Perhaps you want to add some content. You can add single files with “hugo new .”. Start the built-in live server via “hugo server”.\n先看看执行完 hugo new site 命令后，Hugo 为我们做了什么。\n进入 hello-hugo 目录，Hugo 生成的内容如下图所示：\n这些大致作用如下：\narchetypes：存放博客的模板，默认提供了一个 default.md 作为所有博客的模板。 data：存放一些数据，如 xml、json 等。 layouts：与博客页面布局相关的内容，如博客网页中的 header、footer 等。 static：存放静态资源，如图标、图片等。 themes：主题相关。 config.toml：站点、主题等相关内容的配置文件，它支持 yaml、toml 和 json 格式，后续将会一直和这个文件打交道。 建议config.toml 改为config.yaml 语法看着更舒服点。\nHugo 主题使用 根据提示，要使用 Hugo，我们必须先下载 主题，这里我选择自己比较喜欢的 PaperMod。\n根据文档安装 hugo 主题。\n文档提供了三种方式，建议使用第一种或者第二种。\n安装主题之后，在项目 theme 文件夹下生成了主题名称的文件夹。\n1 2 3 4 5 6 7 8 9 PS C:\\Hugo\\sites\\Reid00.github.io.source\\themes\u003e ls 目录: C:\\Hugo\\sites\\Reid00.github.io.source\\themes Mode LastWriteTime Length Name ---- ------------- ------ ---- d----- 2022/6/6 19:39 PaperMod 建议修改archetypes/defeault.md， 以后hugo new post/1.md 新建文档的时候就会使用改模板\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 --- title: \"{{ replace .Name \"-\" \" \" | title }}\" date: {{ .Date }} lastmod: {{ .Date }} author: [\"Reid\"] categories: - tags: - series: - description: \"\" weight: # 输入1可以顶置文章，用来给文章展示排序，不填就默认按时间排序 slug: \"\" draft: false # 是否为草稿 comments: true showToc: true # 显示目录 TocOpen: true # 自动展开目录 hidemeta: false # 是否隐藏文章的元信息，如发布日期、作者等 disableShare: true # 底部不显示分享栏 showbreadcrumbs: true #顶部显示当前路径 cover: image: \"\" caption: \"\" alt: \"\" relative: false --- 修改项目配置config.yaml 我的配置如下： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 baseURL: \"https://reid00.github.io/\" # 绑定的域名 languageCode: zh-cn # en-us title: \"Reid's Blog\" theme: PaperMod # 主题名字，和themes文件夹下的一致 enableInlineShortcodes: true enableRobotsTXT: true # 允许爬虫抓取到搜索引擎，建议 true buildDrafts: false buildFuture: false buildExpired: false enableEmoji: true # 允许使用 Emoji 表情，建议 true pygmentsUseClasses: true googleAnalytics: UA-123-45 # 谷歌统计 Copyright: hasCJKLanguage: true # 自动检测是否包含 中文日文韩文 如果文章中使用了很多中文引号的话可以开启 paginate: 10 # 首页每页显示的文章数 minify: disableXML: true # minifyOutput: true defaultContentLanguage: en # 最顶部首先展示的语言页面 defaultContentLanguageInSubdir: true languages: en: languageName: \"English\" weight: 1 taxonomies: category: categories tag: tags series: series menu: main: - name: Archive url: archives weight: 5 - name: Search url: search/ weight: 7 - name: Categorys url: categories/ weight: 10 - name: Tags url: tags/ weight: 10 outputs: home: - HTML - RSS - JSON params: env: production # to enable google analytics, opengraph, twitter-cards and schema. description: \"Reid's Personal Notes -- https://github.com/Reid00\" author: Reid # author: [\"Me\", \"You\"] # multiple authors defaultTheme: auto # disableThemeToggle: true DateFormat: \"2006-01-02\" ShowShareButtons: false ShowReadingTime: true # disableSpecial1stPost: true displayFullLangName: true ShowPostNavLinks: true ShowBreadCrumbs: true ShowCodeCopyButtons: true ShowRssButtonInSectionTermList: true ShowLastMod: true # 显示文章更新时间 ShowToc: true # 显示目录 TocOpen: true # 自动展开目录 comments: true images: [\"https://i.loli.net/2021/09/26/3OMGXylm8HUYJ6p.png\"] # profileMode: # enabled: false # title: PaperMod # imageUrl: \"#\" # imageTitle: my image # # imageWidth: 120 # # imageHeight: 120 # buttons: # - name: Archives # url: archives # - name: Tags # url: tags homeInfoParams: Title: \"Hi there \\U0001F44B\" Content: \u003e Welcome to My Blog. - **Blog** 是我个人的一些笔记 - 包含Go, Python, 机器学习, KV 存储引擎的一些相关笔记, 方便以后复习 - [GitHub主页](https://github.com/Reid00) socialIcons: - name: github url: \"https://github.com/Reid00\" - name: twitter url: \"https://twitter.com\" - name: RsS url: \"index.xml\" # editPost: # URL: \"https://github.com/adityatelange/hugo-PaperMod/tree/exampleSite/content\" # Text: \"Suggest Changes\" # edit text # appendFilePath: true # to append file path to Edit link # label: # text: \"Home\" # icon: icon.png # iconHeight: 35 # analytics: # google: # SiteVerificationTag: \"XYZabc\" # assets: # favicon: \"\" # favicon16x16: \"\" # favicon32x32: \"\" # apple_touch_icon: \"\" # safari_pinned_tab: \"\" cover: responsiveImages: false # 仅仅用在Page Bundle情况下，此处不讨论 hidden: false # hide everywhere but not in structured data hiddenInList: false # hide on list pages and home hiddenInSingle: false # hide on single page # fuseOpts: # isCaseSensitive: false # shouldSort: true # location: 0 # distance: 1000 # threshold: 0.4 # minMatchCharLength: 0 # keys: [\"title\", \"permalink\", \"summary\", \"content\"] markup: goldmark: renderer: unsafe: true highlight: # anchorLineNos: true codeFences: true guessSyntax: true lineNos: true noClasses: false style: monokai privacy: vimeo: disabled: false simple: true twitter: disabled: false enableDNT: true simple: true instagram: disabled: false simple: true youtube: disabled: false privacyEnhanced: true services: instagram: disableInlineCSS: true twitter: disableInlineCSS: true 新建hugo 网页 这时候主题已经激活了，我们先往博客中添加一篇文章，hugo new post/first.md：\n1 2 hugo new post/first.md hugo new post/second.md 此处观看content 目录，会生成posts 文件夹\n1 2 3 4 5 6 7 8 9 10 11 12 13 PS C:\\Hugo\\sites\\Reid00.github.io.source\\content\u003e tree /F 文件夹 PATH 列表 卷序列号为 E2D5-548C C:. │ archives.md │ search.md │ └─post 4th.md first.md second.md test.md third.md 另外要使用 Archive 和 Search，需要进行以下操作：\n在 content 下增加 archives.md 文件，具体位置如下：\n1 2 3 4 5 6 7 . ├── content/ │ ├── archives.md \u003c--- Create archive.md here │ └── posts/ ├── static/ └── themes/ └── PaperMod/ archives.md 内容为：\n1 2 3 4 5 6 --- title: \"Archive\" layout: \"archives\" url: \"/archives\" summary: \"archives\" --- 同样在 content 新增一个 search.md，内容如下：\n1 2 3 4 5 6 7 --- title: \"Search\" # in any language you want layout: \"search\" # is necessary # url: \"/archive\" description: \"Search part\" summary: \"search\" --- 查看网站效果: 在项目目录c/hugo/sites/projectName 目录下输入hugo server -D\n看到一下输出, 表示可以访问 http://localhost:1313/ 查看效果，如果有其他不满意的地方，可以自行查找其他资料修改配置。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 Start building sites … hugo v0.100.0-27b077544d8efeb85867cb4cfb941747d104f765+extended windows/amd64 BuildDate=2022-05-31T08:37:12Z VendorInfo=gohugoio | EN -------------------+----- Pages | 20 Paginator pages | 0 Non-page files | 0 Static files | 0 Processed images | 0 Aliases | 2 Sitemaps | 1 Cleaned | 0 Built in 98 ms Watching for changes in C:\\Hugo\\sites\\Reid00.github.io.source\\{archetypes,content,data,layouts,static,themes} Watching for config changes in C:\\Hugo\\sites\\Reid00.github.io.source\\config.yaml Environment: \"development\" Serving pages from memory Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender Web Server is available at http://localhost:1313/ (bind address 127.0.0.1) Press Ctrl+C to stop 效果如下：\n部署到GitHub pages 两种方式:\nhugo 命令后生成public 文件夹，将public 单独push 到.github.io 仓库 是将整个项目部署到.github.io.source 仓库，通过github action 自动部署 SSH 这里需要重新生成一对密钥，使用之前用来配置过 Github 的密钥不能在这里使用啦，会报错提示已经被使用过啦。\n1 2 3 4 5 6 7 8 9 10 ssh-keygen -t rsa - -C \"$(git config user.email)\" # 注意：这次不要直接回车，以免覆盖之前生成的 # 确认秘钥的保存路径（如果不需要改路径则直接回车）；如果已经有秘钥文件，则需要换一个路径，避免覆盖掉，如我更改之后的路径为 /home/kearney/.ssh_action/id_rsa； # 创建密码（如果不需要密码则直接回车）； # 确认密码（如果不需要密码则直接回车），生成结束； # 查看公钥，路径需要改为你上面的设置 cat ~/.ssh_action/id_rsa.pub # 查看私钥 cat ~/.ssh_action/id_rsa Page 仓库 Reid00/ Reid00.github.io 中，点击 Setting - Deploy keys - Add deploy key，名称随意，粘贴进去刚生成的公钥，务必勾选 Allow write access 。点击保存。\n源码仓库 Reid00/ Reid00.github.io.source 。点击 Setting - Secrets - New repo secrets ，名称务必设置为 ACTIONS_DEPLOY_KEY， 添加刚刚生成的私钥(id_rsa)，变量名称是要在 action 的配置文件中使用的，因此要保持统一，可修改为别的名称，但要相同即可。\n将项目hello-hugo 推送到 Reid00.github.io.source 仓库 讲到这里突然发现还没有讲，把项目推送到github，方式如下:\n此处本质就是用git 创建项目，推送到Github 如果出现错误，请自行搜索排查。\n1 2 3 4 5 6 git init git remote add origin git@github.com:Reid00/Reid00.github.io.source.git git add . git commit -m 'init' git push -f --set-upstream origin master 配置 Github Action 在源码跟目录下新建 /.github/workflows/github-actions-demo.yml，内容如下，需要更改的地方为 Page 仓库、分支。\nyml push 上去之后，再更新下文章，直接 push 源码，后台就会自动生成并发布到 Page 仓库。\n测试良好，但也发现了一些问题，本人对 Action 了解不够深，猜测是 yml 没抄好。一个问题是源码仓库中 public 指向的网页仓库的 commit 标志未更新，但实际上对于的网页已经更新到 Page 中了，不过这不影响网页发布，暂不考虑解决这个问题。\n其次是我的 submodule 主题中有个在 gitee 中，需要移回到 github 并设置，还有 public 也是，那么干脆就将这些 submodule 取消掉的了，直接并入源码仓库，也不要考虑啥 commit 指针标记了。\n遇到问题 网站css 错乱\n参考此处 Fixing the CSS Integrity Digest Error in Hugo\nwindows git add 的时候LF 会用CRLF 替换，需要对git 进行设置。\n参考文章第二种方法解决\n单独 将public push 到github pages 仓库可以用，但是Github Action 推送后，Github pages 主页变成了index.xml 不是index.html，不可用?\n原因：public 里面又github pages 的.git 文件夹，会导致workflow那边submodules 出错。\n删除.git 文件夹 在与config.yaml 同级目录下添加.gitmodules 1 2 3 4 5 6 7 8 C:. │ .gitmodules │ config.yaml │ README.md [submodule \"themes/PaperMod\"] path = themes/PaperMod url = https://github.com/adityatelange/hugo-PaperMod.git ","wordCount":"1412","inLanguage":"en","image":"https://raw.githubusercontent.com/gohugoio/gohugoioTheme/master/static/images/hugo-logo-wide.svg","datePublished":"2023-03-16T19:35:03+08:00","dateModified":"2023-03-16T19:35:03+08:00","author":[{"@type":"Person","name":"Reid"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://reid00.github.io/en/posts/other/hugo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B9%B6%E7%94%A8githubaction%E9%83%A8%E7%BD%B2/"},"publisher":{"@type":"Organization","name":"Reid's Blog","logo":{"@type":"ImageObject","url":"https://reid00.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://reid00.github.io/en/ accesskey=h title="Reid's Blog (Alt + H)">Reid's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://reid00.github.io/en/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://reid00.github.io/en/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://reid00.github.io/en/categories/ title=Categorys><span>Categorys</span></a></li><li><a href=https://reid00.github.io/en/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://reid00.github.io/en/>Home</a>&nbsp;»&nbsp;<a href=https://reid00.github.io/en/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://reid00.github.io/en/posts/other/>其他日常工具相关的记录</a></div><h1 class=post-title>Hugo搭建博客并用GitHubAction部署</h1><div class=post-description>Hugo搭建博客并用GitHubAction部署</div><div class=post-meta></div></header><figure class=entry-cover><img loading=lazy src=https://raw.githubusercontent.com/gohugoio/gohugoioTheme/master/static/images/hugo-logo-wide.svg alt="hugo logo"></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e4%bb%8b%e7%bb%8d aria-label=介绍>介绍</a><ul><li><a href=#%e6%90%ad%e5%bb%ba%e6%ad%a5%e9%aa%a4 aria-label=搭建步骤>搭建步骤</a><ul><li><a href=#%e5%88%9b%e5%bb%ba%e4%bb%a3%e7%a0%81%e4%bb%93%e5%ba%93 aria-label=创建代码仓库>创建代码仓库</a></li><li><a href=#%e7%94%9f%e6%88%90hugo-%e7%bd%91%e7%ab%99 aria-label="生成Hugo 网站">生成Hugo 网站</a><ul><li><a href=#%e5%ae%89%e8%a3%85hugo aria-label=安装Hugo>安装Hugo</a></li><li><a href=#hugo-%e7%94%9f%e6%88%90%e7%bd%91%e7%ab%99 aria-label="Hugo 生成网站">Hugo 生成网站</a></li><li><a href=#hugo-%e4%b8%bb%e9%a2%98%e4%bd%bf%e7%94%a8 aria-label="Hugo 主题使用">Hugo 主题使用</a></li></ul></li><li><a href=#%e4%bf%ae%e6%94%b9%e9%a1%b9%e7%9b%ae%e9%85%8d%e7%bd%aeconfigyaml aria-label=修改项目配置config.yaml>修改项目配置config.yaml</a><ul><li><a href=#%e6%88%91%e7%9a%84%e9%85%8d%e7%bd%ae%e5%a6%82%e4%b8%8b aria-label=我的配置如下：>我的配置如下：</a></li><li><a href=#%e6%96%b0%e5%bb%bahugo-%e7%bd%91%e9%a1%b5 aria-label="新建hugo 网页">新建hugo 网页</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e7%bd%91%e7%ab%99%e6%95%88%e6%9e%9c aria-label=查看网站效果:>查看网站效果:</a></li></ul></li></ul></li><li><a href=#%e9%83%a8%e7%bd%b2%e5%88%b0github-pages aria-label="部署到GitHub pages">部署到GitHub pages</a><ul><ul><li><a href=#ssh aria-label=SSH>SSH</a></li><li><a href=#%e5%b0%86%e9%a1%b9%e7%9b%aehello-hugo-%e6%8e%a8%e9%80%81%e5%88%b0-reid00githubiosource-%e4%bb%93%e5%ba%93 aria-label="将项目hello-hugo 推送到 Reid00.github.io.source 仓库">将项目hello-hugo 推送到 Reid00.github.io.source 仓库</a></li><li><a href=#%e9%85%8d%e7%bd%ae-github-action aria-label="配置 Github Action">配置 Github Action</a></li></ul></ul></li><li><a href=#%e9%81%87%e5%88%b0%e9%97%ae%e9%a2%98 aria-label=遇到问题>遇到问题</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=介绍>介绍<a hidden class=anchor aria-hidden=true href=#介绍>#</a></h1><p>这是我博客 <a href=https://Reid00.github.io>Blog</a> 的地址 和 <a href=https://github.com/Reid00/Reid00.github.io>Github Repositroy</a>。</p><p>本博客是用<a href=https://gohugo.io/>Hugo</a> 来生成静态网站。 <a href=https://github.com/gohugoio/hugo>Hugo GitHub</a></p><p>并通过 <a href=https://docs.github.com/cn/actions>GitHub Action</a> 来自动化部署到 <a href=https://docs.github.com/cn/pages>GitHub Pages</a>。</p><br><h2 id=搭建步骤>搭建步骤<a hidden class=anchor aria-hidden=true href=#搭建步骤>#</a></h2><h3 id=创建代码仓库>创建代码仓库<a hidden class=anchor aria-hidden=true href=#创建代码仓库>#</a></h3><p>首先按照<a href=https://docs.github.com/cn/pages/quickstart>文档</a>创建 GitHub Pages 站点。该仓库可见性必须是 Public。</p><p>另外创建一个仓库用来存放 Hugo 的源文件，名称随意，这里假设仓库名叫 <username>.github.io.source。建议将仓库可见性设置成 Private 以保护好你的源代码。</p><p>创建完毕后你的账户下将存在以下两个代码仓库：</p><ul><li><p><code>https://github.com/&lt;YourName>/&lt;YourName>.github.io (公开的)</code></p></li><li><p><code>https://github.com/&lt;YourName>/&lt;YourName>.github.io.source(私有的)</code></p><br></li></ul><h3 id=生成hugo-网站>生成Hugo 网站<a hidden class=anchor aria-hidden=true href=#生成hugo-网站>#</a></h3><h4 id=安装hugo>安装Hugo<a hidden class=anchor aria-hidden=true href=#安装hugo>#</a></h4><ul><li><p>For Windows</p><p>到<a href=https://github.com/gohugoio/hugo/releases>Github Release</a> 下载最新版本，用hugo version 或者extended version (部分主题需要extended version 才能使用)</p><p><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220607/a65634cf02460523ab08b3f85b78162b.70o7wfazius0.webp alt=release></p><br><p>安装步骤参考<a href=https://gohugo.io/getting-started/installing/>官方</a>提供</p><ol><li><p>在C盘新建Hugo/sites 目录用于 生成hugo 项目</p></li><li><p>在C盘新建Hugo/bin 目录，用来存放上面解压后的hugo 二进制文件</p></li><li><p>添加C:\Hugo\bin 到系统环境变量中</p><p><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220607/8718584276e6f278a6e06558bd7fe172.3w2292k79l40.webp alt=env></p><br></li><li><p>添加完成后，在cmd 或者其他console 中输入<code>hugo version</code>检查 环境变量是否添加成功。</p><p>出现下面的表示成功。注意：环境变量添加成功后，记得重启console</p><p><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220607/41e55e7e8652793924268748e565f301.60l6ma074fw0.webp alt=hugo-version></p></li></ol></li><li><p>For mac/linux</p><p>可以只用用命令下载，此处不多讲了。</p></li></ul><h4 id=hugo-生成网站>Hugo 生成网站<a hidden class=anchor aria-hidden=true href=#hugo-生成网站>#</a></h4><p>在/c/Hugo/sites 目录下使用命令<code>hugo new site siteName</code>生成网站</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-golang data-lang=golang><span class=line><span class=cl><span class=nx>hugo</span> <span class=nx>new</span> <span class=nx>site</span> <span class=nx>hello</span><span class=o>-</span><span class=nx>hugo</span>
</span></span></code></pre></td></tr></table></div></div><p>执行成功后，Hugo 会给出温馨的提示：</p><blockquote><p>Just a few more steps and you’re ready to go:</p><p>Download a theme into the same-named folder.
Choose a theme from <a href=https://themes.gohugo.io/>https://themes.gohugo.io/</a> or create your own with the “hugo new theme ” command.
Perhaps you want to add some content. You can add single files with “hugo new .”.
Start the built-in live server via “hugo server”.</p></blockquote><br><p>先看看执行完 hugo new site 命令后，Hugo 为我们做了什么。</p><p>进入 hello-hugo 目录，Hugo 生成的内容如下图所示：</p><p><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220607/c87c7e6eb171576453339175a461a89d.2470ydcsgk0w.webp alt=dirs></p><br><br><p>这些大致作用如下：</p><ul><li>archetypes：存放博客的模板，默认提供了一个 default.md 作为所有博客的模板。</li><li>data：存放一些数据，如 xml、json 等。</li><li>layouts：与博客页面布局相关的内容，如博客网页中的 header、footer 等。</li><li>static：存放静态资源，如图标、图片等。</li><li>themes：主题相关。</li><li>config.toml：站点、主题等相关内容的配置文件，它支持 yaml、toml 和 json 格式，后续将会一直和这个文件打交道。</li></ul><p>建议config.toml 改为config.yaml 语法看着更舒服点。</p><h4 id=hugo-主题使用>Hugo 主题使用<a hidden class=anchor aria-hidden=true href=#hugo-主题使用>#</a></h4><p>根据提示，要使用 Hugo，我们必须先下载 主题，这里我选择自己比较喜欢的 <a href=https://github.com/adityatelange/hugo-PaperMod>PaperMod</a>。</p><p>根据<a href=https://github.com/adityatelange/hugo-PaperMod/wiki/Installation>文档</a>安装 hugo 主题。</p><p>文档提供了三种方式，建议使用第一种或者第二种。</p><p>安装主题之后，在项目 theme 文件夹下生成了主题名称的文件夹。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>PS C:<span class=se>\H</span>ugo<span class=se>\s</span>ites<span class=se>\R</span>eid00.github.io.source<span class=se>\t</span>hemes&gt; ls
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    目录: C:<span class=se>\H</span>ugo<span class=se>\s</span>ites<span class=se>\R</span>eid00.github.io.source<span class=se>\t</span>hemes
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Mode                 LastWriteTime         Length Name
</span></span><span class=line><span class=cl>----                 -------------         ------ ----
</span></span><span class=line><span class=cl>d-----          2022/6/6     19:39                PaperMod
</span></span></code></pre></td></tr></table></div></div><br><p>建议修改archetypes/defeault.md， 以后hugo new post/1.md 新建文档的时候就会使用改模板</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>title: <span class=s2>&#34;{{ replace .Name &#34;</span>-<span class=s2>&#34; &#34;</span> <span class=s2>&#34; | title }}&#34;</span>
</span></span><span class=line><span class=cl>date: <span class=o>{{</span> .Date <span class=o>}}</span>
</span></span><span class=line><span class=cl>lastmod: <span class=o>{{</span> .Date <span class=o>}}</span>
</span></span><span class=line><span class=cl>author: <span class=o>[</span><span class=s2>&#34;Reid&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>categories: 
</span></span><span class=line><span class=cl>- 
</span></span><span class=line><span class=cl>tags: 
</span></span><span class=line><span class=cl>- 
</span></span><span class=line><span class=cl>series:
</span></span><span class=line><span class=cl>- 
</span></span><span class=line><span class=cl>description: <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>weight: <span class=c1># 输入1可以顶置文章，用来给文章展示排序，不填就默认按时间排序</span>
</span></span><span class=line><span class=cl>slug: <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>draft: <span class=nb>false</span> <span class=c1># 是否为草稿</span>
</span></span><span class=line><span class=cl>comments: <span class=nb>true</span>
</span></span><span class=line><span class=cl>showToc: <span class=nb>true</span> <span class=c1># 显示目录</span>
</span></span><span class=line><span class=cl>TocOpen: <span class=nb>true</span> <span class=c1># 自动展开目录</span>
</span></span><span class=line><span class=cl>hidemeta: <span class=nb>false</span> <span class=c1># 是否隐藏文章的元信息，如发布日期、作者等</span>
</span></span><span class=line><span class=cl>disableShare: <span class=nb>true</span> <span class=c1># 底部不显示分享栏</span>
</span></span><span class=line><span class=cl>showbreadcrumbs: <span class=nb>true</span> <span class=c1>#顶部显示当前路径</span>
</span></span><span class=line><span class=cl>cover:
</span></span><span class=line><span class=cl>    image: <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    caption: <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    alt: <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    relative: <span class=nb>false</span>
</span></span><span class=line><span class=cl>---
</span></span></code></pre></td></tr></table></div></div><h3 id=修改项目配置configyaml>修改项目配置config.yaml<a hidden class=anchor aria-hidden=true href=#修改项目配置configyaml>#</a></h3><h4 id=我的配置如下>我的配置如下：<a hidden class=anchor aria-hidden=true href=#我的配置如下>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>baseURL: <span class=s2>&#34;https://reid00.github.io/&#34;</span>   <span class=c1># 绑定的域名</span>
</span></span><span class=line><span class=cl>languageCode: zh-cn                    <span class=c1># en-us</span>
</span></span><span class=line><span class=cl>title: <span class=s2>&#34;Reid&#39;s Blog&#34;</span>
</span></span><span class=line><span class=cl>theme: PaperMod                       <span class=c1># 主题名字，和themes文件夹下的一致</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>enableInlineShortcodes: <span class=nb>true</span>
</span></span><span class=line><span class=cl>enableRobotsTXT: <span class=nb>true</span>                 <span class=c1># 允许爬虫抓取到搜索引擎，建议 true</span>
</span></span><span class=line><span class=cl>buildDrafts: <span class=nb>false</span>
</span></span><span class=line><span class=cl>buildFuture: <span class=nb>false</span>
</span></span><span class=line><span class=cl>buildExpired: <span class=nb>false</span>
</span></span><span class=line><span class=cl>enableEmoji: <span class=nb>true</span>                     <span class=c1># 允许使用 Emoji 表情，建议 true</span>
</span></span><span class=line><span class=cl>pygmentsUseClasses: <span class=nb>true</span>
</span></span><span class=line><span class=cl>googleAnalytics: UA-123-45             <span class=c1># 谷歌统计</span>
</span></span><span class=line><span class=cl>Copyright:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>hasCJKLanguage: <span class=nb>true</span>                  <span class=c1># 自动检测是否包含 中文日文韩文 如果文章中使用了很多中文引号的话可以开启</span>
</span></span><span class=line><span class=cl>paginate: <span class=m>10</span>                          <span class=c1># 首页每页显示的文章数</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>minify:
</span></span><span class=line><span class=cl>    disableXML: <span class=nb>true</span>
</span></span><span class=line><span class=cl>    <span class=c1># minifyOutput: true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>defaultContentLanguage: en <span class=c1># 最顶部首先展示的语言页面</span>
</span></span><span class=line><span class=cl>defaultContentLanguageInSubdir: <span class=nb>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>languages:
</span></span><span class=line><span class=cl>    en:
</span></span><span class=line><span class=cl>        languageName: <span class=s2>&#34;English&#34;</span>
</span></span><span class=line><span class=cl>        weight: <span class=m>1</span>
</span></span><span class=line><span class=cl>        taxonomies:
</span></span><span class=line><span class=cl>          category: categories
</span></span><span class=line><span class=cl>          tag: tags
</span></span><span class=line><span class=cl>          series: series
</span></span><span class=line><span class=cl>        menu:
</span></span><span class=line><span class=cl>            main:
</span></span><span class=line><span class=cl>                - name: Archive
</span></span><span class=line><span class=cl>                  url: archives
</span></span><span class=line><span class=cl>                  weight: <span class=m>5</span>
</span></span><span class=line><span class=cl>                - name: Search
</span></span><span class=line><span class=cl>                  url: search/
</span></span><span class=line><span class=cl>                  weight: <span class=m>7</span>
</span></span><span class=line><span class=cl>                - name: Categorys
</span></span><span class=line><span class=cl>                  url: categories/
</span></span><span class=line><span class=cl>                  weight: <span class=m>10</span>
</span></span><span class=line><span class=cl>                - name: Tags
</span></span><span class=line><span class=cl>                  url: tags/
</span></span><span class=line><span class=cl>                  weight: <span class=m>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>outputs:
</span></span><span class=line><span class=cl>    home:
</span></span><span class=line><span class=cl>        - HTML
</span></span><span class=line><span class=cl>        - RSS
</span></span><span class=line><span class=cl>        - JSON
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>params:
</span></span><span class=line><span class=cl>    env: production <span class=c1># to enable google analytics, opengraph, twitter-cards and schema.</span>
</span></span><span class=line><span class=cl>    description: <span class=s2>&#34;Reid&#39;s Personal Notes -- https://github.com/Reid00&#34;</span>
</span></span><span class=line><span class=cl>    author: Reid
</span></span><span class=line><span class=cl>    <span class=c1># author: [&#34;Me&#34;, &#34;You&#34;] # multiple authors</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    defaultTheme: auto
</span></span><span class=line><span class=cl>    <span class=c1># disableThemeToggle: true</span>
</span></span><span class=line><span class=cl>    DateFormat: <span class=s2>&#34;2006-01-02&#34;</span>
</span></span><span class=line><span class=cl>    ShowShareButtons: <span class=nb>false</span>
</span></span><span class=line><span class=cl>    ShowReadingTime: <span class=nb>true</span>
</span></span><span class=line><span class=cl>    <span class=c1># disableSpecial1stPost: true</span>
</span></span><span class=line><span class=cl>    displayFullLangName: <span class=nb>true</span>
</span></span><span class=line><span class=cl>    ShowPostNavLinks: <span class=nb>true</span>
</span></span><span class=line><span class=cl>    ShowBreadCrumbs: <span class=nb>true</span>
</span></span><span class=line><span class=cl>    ShowCodeCopyButtons: <span class=nb>true</span>
</span></span><span class=line><span class=cl>    ShowRssButtonInSectionTermList: <span class=nb>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    ShowLastMod: <span class=nb>true</span> <span class=c1># 显示文章更新时间</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    ShowToc: <span class=nb>true</span>   <span class=c1># 显示目录</span>
</span></span><span class=line><span class=cl>    TocOpen: <span class=nb>true</span>   <span class=c1># 自动展开目录</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    comments: <span class=nb>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    images: <span class=o>[</span><span class=s2>&#34;https://i.loli.net/2021/09/26/3OMGXylm8HUYJ6p.png&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># profileMode:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     enabled: false</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     title: PaperMod</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     imageUrl: &#34;#&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     imageTitle: my image</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     # imageWidth: 120</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     # imageHeight: 120</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     buttons:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#         - name: Archives</span>
</span></span><span class=line><span class=cl>    <span class=c1>#           url: archives</span>
</span></span><span class=line><span class=cl>    <span class=c1>#         - name: Tags</span>
</span></span><span class=line><span class=cl>    <span class=c1>#           url: tags</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    homeInfoParams:
</span></span><span class=line><span class=cl>        Title: <span class=s2>&#34;Hi there \U0001F44B&#34;</span>
</span></span><span class=line><span class=cl>        Content: &gt;
</span></span><span class=line><span class=cl>            Welcome to My Blog.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            - **Blog** 是我个人的一些笔记
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            - 包含Go, Python, 机器学习, KV 存储引擎的一些相关笔记, 方便以后复习
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            - <span class=o>[</span>GitHub主页<span class=o>](</span>https://github.com/Reid00<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    socialIcons:
</span></span><span class=line><span class=cl>        - name: github
</span></span><span class=line><span class=cl>          url: <span class=s2>&#34;https://github.com/Reid00&#34;</span>
</span></span><span class=line><span class=cl>        - name: twitter
</span></span><span class=line><span class=cl>          url: <span class=s2>&#34;https://twitter.com&#34;</span>
</span></span><span class=line><span class=cl>        - name: RsS
</span></span><span class=line><span class=cl>          url: <span class=s2>&#34;index.xml&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># editPost:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     URL: &#34;https://github.com/adityatelange/hugo-PaperMod/tree/exampleSite/content&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     Text: &#34;Suggest Changes&#34; # edit text</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     appendFilePath: true # to append file path to Edit link</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># label:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     text: &#34;Home&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     icon: icon.png</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     iconHeight: 35</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># analytics:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     google:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#         SiteVerificationTag: &#34;XYZabc&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># assets:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     favicon: &#34;&lt;link / abs url&gt;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     favicon16x16: &#34;&lt;link / abs url&gt;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     favicon32x32: &#34;&lt;link / abs url&gt;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     apple_touch_icon: &#34;&lt;link / abs url&gt;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     safari_pinned_tab: &#34;&lt;link / abs url&gt;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    cover:
</span></span><span class=line><span class=cl>        responsiveImages: <span class=nb>false</span> <span class=c1># 仅仅用在Page Bundle情况下，此处不讨论</span>
</span></span><span class=line><span class=cl>        hidden: <span class=nb>false</span> <span class=c1># hide everywhere but not in structured data</span>
</span></span><span class=line><span class=cl>        hiddenInList: <span class=nb>false</span> <span class=c1># hide on list pages and home</span>
</span></span><span class=line><span class=cl>        hiddenInSingle: <span class=nb>false</span> <span class=c1># hide on single page</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># fuseOpts:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     isCaseSensitive: false</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     shouldSort: true</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     location: 0</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     distance: 1000</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     threshold: 0.4</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     minMatchCharLength: 0</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     keys: [&#34;title&#34;, &#34;permalink&#34;, &#34;summary&#34;, &#34;content&#34;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>markup:
</span></span><span class=line><span class=cl>    goldmark:
</span></span><span class=line><span class=cl>        renderer:
</span></span><span class=line><span class=cl>            unsafe: <span class=nb>true</span>
</span></span><span class=line><span class=cl>    highlight:
</span></span><span class=line><span class=cl>        <span class=c1># anchorLineNos: true</span>
</span></span><span class=line><span class=cl>        codeFences: <span class=nb>true</span>
</span></span><span class=line><span class=cl>        guessSyntax: <span class=nb>true</span>
</span></span><span class=line><span class=cl>        lineNos: <span class=nb>true</span>
</span></span><span class=line><span class=cl>        noClasses: <span class=nb>false</span>
</span></span><span class=line><span class=cl>        style: monokai
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>privacy:
</span></span><span class=line><span class=cl>    vimeo:
</span></span><span class=line><span class=cl>        disabled: <span class=nb>false</span>
</span></span><span class=line><span class=cl>        simple: <span class=nb>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    twitter:
</span></span><span class=line><span class=cl>        disabled: <span class=nb>false</span>
</span></span><span class=line><span class=cl>        enableDNT: <span class=nb>true</span>
</span></span><span class=line><span class=cl>        simple: <span class=nb>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    instagram:
</span></span><span class=line><span class=cl>        disabled: <span class=nb>false</span>
</span></span><span class=line><span class=cl>        simple: <span class=nb>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    youtube:
</span></span><span class=line><span class=cl>        disabled: <span class=nb>false</span>
</span></span><span class=line><span class=cl>        privacyEnhanced: <span class=nb>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>services:
</span></span><span class=line><span class=cl>    instagram:
</span></span><span class=line><span class=cl>        disableInlineCSS: <span class=nb>true</span>
</span></span><span class=line><span class=cl>    twitter:
</span></span><span class=line><span class=cl>        disableInlineCSS: <span class=nb>true</span>
</span></span></code></pre></td></tr></table></div></div><br><h4 id=新建hugo-网页>新建hugo 网页<a hidden class=anchor aria-hidden=true href=#新建hugo-网页>#</a></h4><p>这时候主题已经激活了，我们先往博客中添加一篇文章，hugo new post/first.md：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>hugo new post/first.md
</span></span><span class=line><span class=cl>hugo new post/second.md
</span></span></code></pre></td></tr></table></div></div><p>此处观看content 目录，会生成posts 文件夹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>PS C:<span class=se>\H</span>ugo<span class=se>\s</span>ites<span class=se>\R</span>eid00.github.io.source<span class=se>\c</span>ontent&gt; tree /F
</span></span><span class=line><span class=cl>文件夹 PATH 列表
</span></span><span class=line><span class=cl>卷序列号为 E2D5-548C
</span></span><span class=line><span class=cl>C:.
</span></span><span class=line><span class=cl>│  archives.md
</span></span><span class=line><span class=cl>│  search.md
</span></span><span class=line><span class=cl>│
</span></span><span class=line><span class=cl>└─post
</span></span><span class=line><span class=cl>        4th.md
</span></span><span class=line><span class=cl>        first.md
</span></span><span class=line><span class=cl>        second.md
</span></span><span class=line><span class=cl>        test.md
</span></span><span class=line><span class=cl>        third.md
</span></span></code></pre></td></tr></table></div></div><p>另外要使用 Archive 和 Search，需要进行以下操作：</p><ul><li><p>在 content 下增加 archives.md 文件，具体位置如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>├── content/
</span></span><span class=line><span class=cl>│   ├── archives.md   &lt;--- Create archive.md here
</span></span><span class=line><span class=cl>│   └── posts/
</span></span><span class=line><span class=cl>├── static/
</span></span><span class=line><span class=cl>└── themes/
</span></span><span class=line><span class=cl>    └── PaperMod/
</span></span></code></pre></td></tr></table></div></div><p>archives.md 内容为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>  title: <span class=s2>&#34;Archive&#34;</span>
</span></span><span class=line><span class=cl>  layout: <span class=s2>&#34;archives&#34;</span>
</span></span><span class=line><span class=cl>  url: <span class=s2>&#34;/archives&#34;</span>
</span></span><span class=line><span class=cl>  summary: <span class=s2>&#34;archives&#34;</span>
</span></span><span class=line><span class=cl>---
</span></span></code></pre></td></tr></table></div></div></li><li><p>同样在 content 新增一个 search.md，内容如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>title: <span class=s2>&#34;Search&#34;</span> <span class=c1># in any language you want</span>
</span></span><span class=line><span class=cl>layout: <span class=s2>&#34;search&#34;</span> <span class=c1># is necessary</span>
</span></span><span class=line><span class=cl><span class=c1># url: &#34;/archive&#34;</span>
</span></span><span class=line><span class=cl>description: <span class=s2>&#34;Search part&#34;</span>
</span></span><span class=line><span class=cl>summary: <span class=s2>&#34;search&#34;</span>
</span></span><span class=line><span class=cl>---
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=查看网站效果>查看网站效果:<a hidden class=anchor aria-hidden=true href=#查看网站效果>#</a></h4><p>在项目目录c/hugo/sites/projectName 目录下输入<code>hugo server -D</code></p><p>看到一下输出, 表示可以访问 http://localhost:1313/ 查看效果，如果有其他不满意的地方，可以自行查找其他资料修改配置。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>Start building sites … 
</span></span><span class=line><span class=cl>hugo v0.100.0-27b077544d8efeb85867cb4cfb941747d104f765+extended windows/amd64 <span class=nv>BuildDate</span><span class=o>=</span>2022-05-31T08:37:12Z <span class=nv>VendorInfo</span><span class=o>=</span>gohugoio
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                   <span class=p>|</span> EN  
</span></span><span class=line><span class=cl>-------------------+-----
</span></span><span class=line><span class=cl>  Pages            <span class=p>|</span> <span class=m>20</span>  
</span></span><span class=line><span class=cl>  Paginator pages  <span class=p>|</span>  <span class=m>0</span>  
</span></span><span class=line><span class=cl>  Non-page files   <span class=p>|</span>  <span class=m>0</span>  
</span></span><span class=line><span class=cl>  Static files     <span class=p>|</span>  <span class=m>0</span>  
</span></span><span class=line><span class=cl>  Processed images <span class=p>|</span>  <span class=m>0</span>  
</span></span><span class=line><span class=cl>  Aliases          <span class=p>|</span>  <span class=m>2</span>  
</span></span><span class=line><span class=cl>  Sitemaps         <span class=p>|</span>  <span class=m>1</span>  
</span></span><span class=line><span class=cl>  Cleaned          <span class=p>|</span>  <span class=m>0</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Built in <span class=m>98</span> ms
</span></span><span class=line><span class=cl>Watching <span class=k>for</span> changes in C:<span class=se>\H</span>ugo<span class=se>\s</span>ites<span class=se>\R</span>eid00.github.io.source<span class=se>\{</span>archetypes,content,data,layouts,static,themes<span class=o>}</span>
</span></span><span class=line><span class=cl>Watching <span class=k>for</span> config changes in C:<span class=se>\H</span>ugo<span class=se>\s</span>ites<span class=se>\R</span>eid00.github.io.source<span class=se>\c</span>onfig.yaml
</span></span><span class=line><span class=cl>Environment: <span class=s2>&#34;development&#34;</span>
</span></span><span class=line><span class=cl>Serving pages from memory
</span></span><span class=line><span class=cl>Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender
</span></span><span class=line><span class=cl>Web Server is available at http://localhost:1313/ <span class=o>(</span><span class=nb>bind</span> address 127.0.0.1<span class=o>)</span>
</span></span><span class=line><span class=cl>Press Ctrl+C to stop
</span></span></code></pre></td></tr></table></div></div><p>效果如下：</p><p><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220607/d34a6c6d7ef8c1d5e15d9326e7a9015e.72x5nb69g9s0.webp alt=home-page></p><h2 id=部署到github-pages>部署到GitHub pages<a hidden class=anchor aria-hidden=true href=#部署到github-pages>#</a></h2><p>两种方式:</p><ol><li><code>hugo</code> 命令后生成public 文件夹，将public 单独push 到<username>.github.io 仓库</li><li>是将整个项目部署到<username>.github.io.source 仓库，通过github action 自动部署</li></ol><br><h4 id=ssh>SSH<a hidden class=anchor aria-hidden=true href=#ssh>#</a></h4><p>这里需要重新生成一对密钥，使用之前用来配置过 Github 的密钥不能在这里使用啦，会报错提示已经被使用过啦。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>ssh-keygen -t rsa - -C <span class=s2>&#34;</span><span class=k>$(</span>git config user.email<span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># 注意：这次不要直接回车，以免覆盖之前生成的</span>
</span></span><span class=line><span class=cl><span class=c1># 确认秘钥的保存路径（如果不需要改路径则直接回车）；如果已经有秘钥文件，则需要换一个路径，避免覆盖掉，如我更改之后的路径为 /home/kearney/.ssh_action/id_rsa；</span>
</span></span><span class=line><span class=cl><span class=c1># 创建密码（如果不需要密码则直接回车）； </span>
</span></span><span class=line><span class=cl><span class=c1># 确认密码（如果不需要密码则直接回车），生成结束； </span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看公钥，路径需要改为你上面的设置</span>
</span></span><span class=line><span class=cl>cat ~/.ssh_action/id_rsa.pub 
</span></span><span class=line><span class=cl><span class=c1># 查看私钥</span>
</span></span><span class=line><span class=cl>cat ~/.ssh_action/id_rsa
</span></span></code></pre></td></tr></table></div></div><br><p>Page 仓库 Reid00/ Reid00.github.io 中，点击 Setting - Deploy keys - Add deploy key，名称随意，粘贴进去刚生成的公钥，务必勾选 Allow write access 。点击保存。</p><p>源码仓库 Reid00/ Reid00.github.io.source 。点击 Setting - Secrets - New repo secrets ，名称务必设置为 ACTIONS_DEPLOY_KEY， 添加刚刚生成的私钥(id_rsa)，变量名称是要在 action 的配置文件中使用的，因此要保持统一，可修改为别的名称，但要相同即可。</p><h4 id=将项目hello-hugo-推送到-reid00githubiosource-仓库>将项目hello-hugo 推送到 Reid00.github.io.source 仓库<a hidden class=anchor aria-hidden=true href=#将项目hello-hugo-推送到-reid00githubiosource-仓库>#</a></h4><p>讲到这里突然发现还没有讲，把项目推送到github，方式如下:</p><p>此处本质就是用git 创建项目，推送到Github 如果出现错误，请自行搜索排查。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git remote add origin git@github.com:Reid00/Reid00.github.io.source.git
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s1>&#39;init&#39;</span>
</span></span><span class=line><span class=cl>git push -f --set-upstream origin master
</span></span></code></pre></td></tr></table></div></div><h4 id=配置-github-action>配置 Github Action<a hidden class=anchor aria-hidden=true href=#配置-github-action>#</a></h4><p>在源码跟目录下新建 /.github/workflows/github-actions-demo.yml，内容如下，需要更改的地方为 Page 仓库、分支。</p><br><p>yml push 上去之后，再更新下文章，直接 push 源码，后台就会自动生成并发布到 Page 仓库。</p><p>测试良好，但也发现了一些问题，本人对 Action 了解不够深，猜测是 yml 没抄好。一个问题是源码仓库中 public 指向的网页仓库的 commit 标志未更新，但实际上对于的网页已经更新到 Page 中了，不过这不影响网页发布，暂不考虑解决这个问题。</p><p>其次是我的 submodule 主题中有个在 gitee 中，需要移回到 github 并设置，还有 public 也是，那么干脆就将这些 submodule 取消掉的了，直接并入源码仓库，也不要考虑啥 commit 指针标记了。</p><br><h2 id=遇到问题>遇到问题<a hidden class=anchor aria-hidden=true href=#遇到问题>#</a></h2><ol><li><p>网站css 错乱</p><p>参考此处 <a href=https://swopnil.com/blog/valid-digest-integrity-error-hugo-styling/>Fixing the CSS Integrity Digest Error in Hugo</a></p><p>windows git add 的时候LF 会用CRLF 替换，需要对git 进行设置。</p><p>参考文章第二种方法解决</p></li><li><p>单独 将public push 到github pages 仓库可以用，但是Github Action 推送后，Github pages 主页变成了index.xml 不是index.html，不可用?</p><p>原因：public 里面又github pages 的.git 文件夹，会导致workflow那边submodules 出错。</p><ol><li>删除.git 文件夹</li><li>在与config.yaml 同级目录下添加.gitmodules<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>C:.
</span></span><span class=line><span class=cl>│  .gitmodules
</span></span><span class=line><span class=cl>│  config.yaml
</span></span><span class=line><span class=cl>│  README.md
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>submodule <span class=s2>&#34;themes/PaperMod&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>	<span class=nv>path</span> <span class=o>=</span> themes/PaperMod
</span></span><span class=line><span class=cl>	<span class=nv>url</span> <span class=o>=</span> https://github.com/adityatelange/hugo-PaperMod.git
</span></span></code></pre></td></tr></table></div></div></li></ol></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://reid00.github.io/en/tags/hugo/>Hugo</a></li><li><a href=https://reid00.github.io/en/tags/github-pages/>Github Pages</a></li><li><a href=https://reid00.github.io/en/tags/github-action/>Github Action</a></li></ul><nav class=paginav><a class=next href=https://reid00.github.io/en/posts/algo/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E4%B9%8B01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/><span class=title>Next »</span><br><span>动态规划之01背包问题</span></a></nav></footer><script src=https://utteranc.es/client.js repo=Reid00/hugo-blog-talks issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://reid00.github.io/en/>Reid's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>