<!doctype html><html lang=en dir=auto><head><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://reid00.github.io/en/ accesskey=h title="Reid's Blog (Alt + H)">Reid's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://reid00.github.io/en/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://reid00.github.io/en/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://reid00.github.io/en/categories/ title=Categorys><span>Categorys</span></a></li><li><a href=https://reid00.github.io/en/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://reid00.github.io/en/>Home</a>&nbsp;»&nbsp;<a href=https://reid00.github.io/en/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://reid00.github.io/en/posts/ml/>机器学习，深度学习，知识图谱相关</a></div><h1 class=post-title>常见距离的介绍</h1><div class=post-description>常见距离的介绍</div><div class=post-meta><span title='2023-03-16 19:35:21 +0800 +0800'>2023-03-16 19:35</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;156 words&nbsp;·&nbsp;Reid</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e5%b8%b8%e8%a7%81%e8%b7%9d%e7%a6%bb%e4%bb%8b%e7%bb%8d aria-label=机器学习常见距离介绍>机器学习常见距离介绍</a><ul><li><a href=#1-%e6%ac%a7%e5%bc%8f%e8%b7%9d%e7%a6%bb aria-label="1. 欧式距离">1. 欧式距离</a></li><li><a href=#2-%e6%9b%bc%e5%93%88%e9%a1%bf%e8%b7%9d%e7%a6%bb aria-label="2. 曼哈顿距离">2. 曼哈顿距离</a></li><li><a href=#3-%e5%88%87%e6%af%94%e9%9b%aa%e5%a4%ab%e8%b7%9d%e7%a6%bb aria-label="3. 切比雪夫距离">3. 切比雪夫距离</a></li><li><a href=#4-%e9%97%b5%e5%8f%af%e5%a4%ab%e6%96%af%e5%9f%ba%e8%b7%9d%e7%a6%bbminkowski-distance aria-label="4. 闵可夫斯基距离(Minkowski Distance)">4. 闵可夫斯基距离(Minkowski Distance)</a></li><li><a href=#5-%e6%a0%87%e5%87%86%e5%8c%96%e6%ac%a7%e6%b0%8f%e8%b7%9d%e7%a6%bb-standardized-euclidean-distance- aria-label="5. 标准化欧氏距离 (Standardized Euclidean distance )">5. 标准化欧氏距离 (Standardized Euclidean distance )</a></li><li><a href=#6-%e9%a9%ac%e6%b0%8f%e8%b7%9d%e7%a6%bbmahalanobis-distance aria-label="6. 马氏距离(Mahalanobis Distance)">6. 马氏距离(Mahalanobis Distance)</a></li><li><a href=#7%e5%b7%b4%e6%b0%8f%e8%b7%9d%e7%a6%bbbhattacharyya-distance aria-label="7.巴氏距离（Bhattacharyya Distance）">7.巴氏距离（Bhattacharyya Distance）</a></li><li><a href=#8%e6%b1%89%e6%98%8e%e8%b7%9d%e7%a6%bbhamming-distance aria-label="8.汉明距离(Hamming distance)">8.<strong>汉明距离(Hamming distance)</strong></a></li><li><a href=#9%e5%a4%b9%e8%a7%92%e4%bd%99%e5%bc%a6cosine aria-label=9.夹角余弦(Cosine)>9.<strong>夹角余弦(Cosine)</strong></a></li><li><a href=#0-%e6%9d%b0%e5%8d%a1%e5%be%b7%e7%9b%b8%e4%bc%bc%e7%b3%bb%e6%95%b0jaccard-similarity-coefficient aria-label="0. 杰卡德相似系数(Jaccard similarity coefficient)">0. 杰卡德相似系数(Jaccard similarity coefficient)</a></li><li><a href=#11%e7%9a%ae%e5%b0%94%e9%80%8a%e7%b3%bb%e6%95%b0pearson-correlation-coefficient aria-label="11.皮尔逊系数(Pearson Correlation Coefficient)"><strong>11.皮尔逊系数(Pearson Correlation Coefficient)</strong></a></li><li><a href=#summary aria-label=Summary:>Summary:</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=机器学习常见距离介绍>机器学习常见距离介绍<a hidden class=anchor aria-hidden=true href=#机器学习常见距离介绍>#</a></h2><h3 id=1-欧式距离>1. 欧式距离<a hidden class=anchor aria-hidden=true href=#1-欧式距离>#</a></h3><p><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.1vblxn46yidc.webp alt=欧氏距离></p><h3 id=2-曼哈顿距离>2. 曼哈顿距离<a hidden class=anchor aria-hidden=true href=#2-曼哈顿距离>#</a></h3><p>我们可以定义曼哈顿距离的正式意义为L1-距离或城市区块距离，也就是在欧几里得空间的固定直角坐标系上两点所形成的线段对轴产生的投影的距离总和。例如在平面上，坐标（x1, y1）的点P1与坐标（x2, y2）的点P2的曼哈顿距离为：，要注意的是，曼哈顿距离依赖座标系统的转度，而非系统在座标轴上的平移或映射。
通俗来讲，想象你在曼哈顿要从一个十字路口开车到另外一个十字路口，驾驶距离是两点间的直线距离吗？显然不是，除非你能穿越大楼。而实际驾驶距离就是这个“曼哈顿距离”，此即曼哈顿距离名称的来源， 同时，曼哈顿距离也称为城市街区距离(City Block distance)。</p><p><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.7l95ss3go8s0.webp alt=曼哈顿距离></p><h3 id=3-切比雪夫距离>3. 切比雪夫距离<a hidden class=anchor aria-hidden=true href=#3-切比雪夫距离>#</a></h3><p>若二个向量或二个点p 、and q，其座标分别为p1,p2
<img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.2uxwm77425u0.webp alt=切比雪夫距离></p><h3 id=4-闵可夫斯基距离minkowski-distance>4. 闵可夫斯基距离(Minkowski Distance)<a hidden class=anchor aria-hidden=true href=#4-闵可夫斯基距离minkowski-distance>#</a></h3><p>闵氏距离不是一种距离，而是一组距离的定义.</p><p>(1) 闵氏距离的定义<br>两个n维变量a(x11,x12,…,x1n)与 b(x21,x22,…,x2n)间的闵可夫斯基距离定义为：
<img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.1oran7booq2o.webp alt=闵氏距离>
其中p是一个变参数。
当p=1时，就是曼哈顿距离
当p=2时，就是欧氏距离
当p→∞时，就是切比雪夫距离<br>根据变参数的不同，闵氏距离可以表示一类的距离。</p><h3 id=5-标准化欧氏距离-standardized-euclidean-distance->5. 标准化欧氏距离 (Standardized Euclidean distance )<a hidden class=anchor aria-hidden=true href=#5-标准化欧氏距离-standardized-euclidean-distance->#</a></h3><p>标准化欧氏距离是针对简单欧氏距离的缺点而作的一种改进方案。标准欧氏距离的思路：既然数据各维分量的分布不一样，那先将各个分量都“标准化”到均值、方差相等。至于均值和方差标准化到多少，先复习点统计学知识。</p><p>假设样本集X的数学期望或均值(mean)为m，标准差(standard deviation，方差开根)为s，那么X的“标准化变量”X*表示为：(X-m）/s，而且标准化变量的数学期望为0，方差为1。</p><p>即，样本集的标准化过程(standardization)用公式描述就是：
<img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.4g1qht1u37o0.webp alt=standard>
标准化后的值 = ( 标准化前的值 － 分量的均值 ) /分量的标准差　　</p><p>经过简单的推导就可以得到两个n维向量a(x11,x12,…,x1n)与 b(x21,x22,…,x2n)间的标准化欧氏距离的公式：　　
<img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.2fxxgizr03b4.webp alt=d></p><p>如果将方差的倒数看成是一个权重，这个公式可以看成是一种加权欧氏距离(Weighted Euclidean distance)。</p><h3 id=6-马氏距离mahalanobis-distance>6. 马氏距离(Mahalanobis Distance)<a hidden class=anchor aria-hidden=true href=#6-马氏距离mahalanobis-distance>#</a></h3><p>有M个样本向量X1~Xm，<a href=http://zh.wikipedia.org/wiki/%E5%8D%8F%E6%96%B9%E5%B7%AE%E7%9F%A9%E9%98%B5>协方差矩阵</a>记为S，均值记为向量μ，则其中样本向量X到u的马氏距离表示为：
<img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.7jew7os09zs0.webp alt=马氏距离></p><p>(协方差矩阵中每个元素是各个矢量元素之间的协方差Cov(X,Y)，Cov(X,Y) = E{ [X-E(X)] [Y-E(Y)]}，其中E为数学期望）</p><p>而其中向量Xi与Xj之间的马氏距离定义为：<br><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.zs4emh5c39c.webp alt=向量化></p><p>若协方差矩阵是单位矩阵（各个样本向量之间独立同分布）,则公式就成了：<br><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.6mg0cl8qwrs0.webp alt=matrix></p><p>也就是欧氏距离了。　　
若协方差矩阵是对角矩阵，公式变成了标准化欧氏距离。</p><ul><li>马氏距离的优缺点：量纲无关，排除变量之间的相关性的干扰。</li><li>「微博上的seafood高清版点评道：原来马氏距离是根据协方差矩阵演变，一直被老师误导了，怪不得看Killian在05年NIPS发表的LMNN论文时候老是看到协方差矩阵和半正定，原来是这回事」</li></ul><h3 id=7巴氏距离bhattacharyya-distance>7.巴氏距离（Bhattacharyya Distance）<a hidden class=anchor aria-hidden=true href=#7巴氏距离bhattacharyya-distance>#</a></h3><p>在统计中，Bhattacharyya距离测量两个离散或连续概率分布的相似性。它与衡量两个统计样品或种群之间的重叠量的Bhattacharyya系数密切相关。Bhattacharyya距离和Bhattacharyya系数以20世纪30年代曾在印度统计研究所工作的一个统计学家A. Bhattacharya命名。同时，Bhattacharyya系数可以被用来确定两个样本被认为相对接近的，它是用来测量中的类分类的可分离性。</p><h3 id=8汉明距离hamming-distance>8.<strong>汉明距离(Hamming distance)</strong><a hidden class=anchor aria-hidden=true href=#8汉明距离hamming-distance>#</a></h3><p>两个等长字符串s1与s2之间的汉明距离定义为将其中一个变为另外一个所需要作的最小替换次数。例如字符串“1111”与“1001”之间的汉明距离为2。应用：信息编码（为了增强容错性，应使得编码间的最小汉明距离尽可能大）。</p><h3 id=9夹角余弦cosine>9.<strong>夹角余弦(Cosine)</strong><a hidden class=anchor aria-hidden=true href=#9夹角余弦cosine>#</a></h3><p>几何中夹角余弦可用来衡量两个向量方向的差异，机器学习中借用这一概念来衡量样本向量之间的差异。
<img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.57am3ifvomw.webp alt=公式></p><h3 id=0-杰卡德相似系数jaccard-similarity-coefficient>0. 杰卡德相似系数(Jaccard similarity coefficient)<a hidden class=anchor aria-hidden=true href=#0-杰卡德相似系数jaccard-similarity-coefficient>#</a></h3><p>(1) 杰卡德相似系数</p><p>两个集合A和B的交集元素在A，B的并集中所占的比例，称为两个集合的杰卡德相似系数，用符号J(A,B)表示。　
<img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.4ownshmt9p40.webp alt=jaccard></p><p><strong>杰卡德相似系数是衡量两个集合的相似度一种指标。</strong></p><p>(2) 杰卡德距离</p><p>与杰卡德相似系数相反的概念是杰卡德距离(Jaccard distance)。
杰卡德距离可用如下公式表示：
<img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.175kxfhuwj1c.webp alt=公式></p><p><strong>杰卡德距离用两个集合中不同元素占所有元素的比例来衡量两个集合的区分度。</strong></p><p>(3) 杰卡德相似系数与杰卡德距离的应用</p><p>可将杰卡德相似系数用在衡量样本的相似度上。
举例：样本A与样本B是两个n维向量，而且所有维度的取值都是0或1，例如：A(0111)和B(1011)。我们将样本看成是一个集合，1表示集合包含该元素，0表示集合不包含该元素。</p><p>M11 ：样本A与B都是1的维度的个数</p><p>​M01：样本A是0，样本B是1的维度的个数</p><p>​M10：样本A是1，样本B是0 的维度的个数</p><p>​M00：样本A与B都是0的维度的个数</p><p><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.6s9n0w7zisw0.webp alt=gs></p><h3 id=11皮尔逊系数pearson-correlation-coefficient><strong>11.皮尔逊系数(Pearson Correlation Coefficient)</strong><a hidden class=anchor aria-hidden=true href=#11皮尔逊系数pearson-correlation-coefficient>#</a></h3><p>在具体阐述皮尔逊相关系数之前，有必要解释下什么是相关系数 ( Correlation coefficient )与相关距离(Correlation distance)。</p><p>相关系数 ( Correlation coefficient )的定义是：</p><p><img loading=lazy src=https://raw.githubusercontent.com/Reid00/image-host/main/20220608/image.dhfz7h5k3ts.webp alt=cc></p><p>(其中，E为数学期望或均值，D为方差，D开根号为标准差，E{ [X-E(X)] [Y-E(Y)]}称为随机变量X与Y的协方差，记为Cov(X,Y)，即Cov(X,Y) = E{ [X-E(X)] [Y-E(Y)]}，而两个变量之间的协方差和标准差的商则称为随机变量X与Y的相关系数，记为Pxy)
相关系数衡量随机变量X与Y相关程度的一种方法，相关系数的取值范围是[-1,1]。相关系数的绝对值越大，则表明X与Y相关度越高。当X与Y线性相关时，相关系数取值为1（正线性相关）或-1（负线性相关）。
具体的，如果有两个变量：X、Y，最终计算出的相关系数的含义可以有如下理解：</p><ol><li>当相关系数为0时，X和Y两变量无关系。</li><li>当X的值增大（减小），Y值增大（减小），两个变量为正相关，相关系数在0.00与1.00之间。</li><li>当X的值增大（减小），Y值减小（增大），两个变量为负相关，相关系数在-1.00与0.00之间。</li></ol><p><strong>(2)皮尔逊相关系数的适用范围</strong>
当两个变量的标准差都不为零时，相关系数才有定义，皮尔逊相关系数适用于：</p><ol><li>两个变量之间是线性关系，都是连续数据。</li><li>两个变量的总体是正态分布，或接近正态的单峰分布。</li><li>两个变量的观测值是成对的，每对观测值之间相互独立。</li></ol><p><strong>(3)皮尔逊相关的约束条件</strong></p><p>从以上解释, 也可以理解皮尔逊相关的约束条件:</p><p>1 两个变量间有线性关系
2 变量是连续变量
3 变量均符合正态分布,且二元分布也符合正态分布
4 两变量独立
在实践统计中,一般只输出两个系数,一个是相关系数,也就是计算出来的相关系数大小,在-1到1之间;另一个是独立样本检验系数,用来检验样本一致性</p><h3 id=summary>Summary:<a hidden class=anchor aria-hidden=true href=#summary>#</a></h3><p>简单说来，各种“距离”的应用场景简单概括为，</p><p>空间：欧氏距离，</p><p>路径：曼哈顿距离，</p><p>国际象棋国王：切比雪夫距离，</p><p>以上三种的统一形式:闵可夫斯基距离，</p><p>加权：标准化欧氏距离，</p><p>排除量纲和依存：马氏距离，</p><p>向量差距：夹角余弦，</p><p>编码差别：汉明距离，</p><p>集合近似度：杰卡德类似系数与距离，</p><p>相关：相关系数与相关距离。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://reid00.github.io/en/tags/%E6%AC%A7%E5%BC%8F%E8%B7%9D%E7%A6%BB/>欧式距离</a></li><li><a href=https://reid00.github.io/en/tags/%E8%B7%9D%E7%A6%BB/>距离</a></li></ul><nav class=paginav><a class=prev href=https://reid00.github.io/en/posts/ml/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B9%8B%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/><span class=title>« Prev</span><br><span>机器学习之优化算法</span>
</a><a class=next href=https://reid00.github.io/en/posts/ml/%E6%95%B0%E6%8D%AE%E9%99%8D%E7%BB%B4%E4%B9%8B%E4%B8%BB%E6%88%90%E5%88%86%E5%88%86%E6%9E%90-pca/><span class=title>Next »</span><br><span>数据降维之主成分分析 PCA</span></a></nav></footer><script src=https://utteranc.es/client.js repo=Reid00/hugo-blog-talks issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></article></main><span id=busuanzi_container_site_pv>访问量<span id=busuanzi_value_site_pv></span>次
</span><span id=busuanzi_container_site_uv>访客数<span id=busuanzi_value_site_uv></span>人次</span></body></html>